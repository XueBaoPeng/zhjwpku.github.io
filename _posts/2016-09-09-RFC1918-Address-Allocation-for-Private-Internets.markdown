---
layout: post
title: RFC1918 私有网络地址分配
date: 2016-09-09 21:00:00 +0800
categories: rfc
tags:
- rfc
- translation
---

Internet的发展超乎人们的想象。指数级的持续增长带来新的挑战，如IPv4地址空间将被用完，一个更为迫切的担心是路由开销的数量将超过ISP（Internet Service Provider）的能力。社区一方面试图寻找一种能长期解决这两个问题的方案（笔者注：IPv6），另一方面重新审视地址分配的程序及其对因特网路由系统的影响。

为了容纳路由开销的增长，Internet服务提供商从地址注册组织获得一个地址块（block of address space），然后根据客户的需求将块内的地址分配给客户。这个过程的会导致许多客户的路由被聚合[RFC1518][rfc1518]，[RFC1519][rfc1519]，对其它服务提供商呈现为一个单一路由。为了让路由聚合有效，因特网服务提供商鼓励加入其网络的客户使用提供商的地址块，这样来为客户的电脑分配地址。

为了延长IPv4地址空间的生命周期，地址注册的申请比以往更加严格[RFC1466][rfc1466]。

在企业内部使用IP的主机可以分为三种方式：

1. 企业内的主机不需要访问其他企业内的主机或Internet，这类主机可以使用在企业内部唯一的IP地址，但企业之间可能会重复。
2. 主机需要访问外部有限的服务（如 E-mail, FTP, netnews, remote login等），这些服务可由中介网关（如应用层网关）来处理。对于这类主机，不受限制的外部访问（通过IP）可能并不必要，而且从安全角度来看，也是不鼓励的。同第一类主机一样，这类主机使用在企业内部无冲突但企业之间可重复的IP地址。
3. 主机需要企业外部网络层的访问，这类主机需要全球唯一IP地址。

第一、二类的主机称作”私有的“，而第三类称作”公开的“。

IANA(Internet Assigned Numbers Authority)保留了三个IP地址块用于私有网络。

  10.0.0.0 - 10.255.255.255（10.0.0.0/8）
  172.16.0.0 - 172.31.255.255（172.16.0.0/12）
  192.168.0.0 - 192.168.255.255（192.168.0.0/16）

我们把第一块称为“24-比特块”，第二块称为“20-比特块”，第三块地址称为“16-比特块”，第一块地址就是一个A类网络号，第二块地址是16个B类网络号集合，第三块地址是256个连续的C类网络号集合。

上述私有地址空间的地址块不会被Internet注册机构分配各一个申请用于外部连接的IP地址的企业。

企业需要决定在可预见的时期内哪些主机不需要与外部建立网络连接，从而将这些主机归类为“私有的”，这类主机将使用上述定义的私有地址。私有主机能与企业内的所有其他主机通信，包括私有主机和公有主机，但它们和企业外部的任何主机都没有IP连接。不过它们可以通过中介网关（如应用层网关）访问外部服务。

其他的主机被归类为“公开”的并使用因特网注册商提供的全局唯一的地址空间，公开主机可以与企业内部的其他公开主机和私有主机通信，它们可以具有和企业外公开主机的IP连接。公开主机与其他企业内部的私有主机之间没有联系。

将私有主机专为公开主机或是相反的操作设计到IP地址的转换，DNS中相关记录的改变和其他主机上用IP地址来标志该主机的配置文件的改变。

因为私有地址没有全局意义，因此企业之间的链路上没有必要传播私有网络的路由信息，源或目的地址为私有地址的包也不应该在链路上被转发。网路中的路由器不使用私有网络地址，尤其是属于ISP的路由器，会配置为拒绝（过滤）私有地址的路由信息。

[rfc1518]: https://tools.ietf.org/pdf/rfc1518.pdf 
[rfc1519]: https://tools.ietf.org/pdf/rfc1519.pdf
[rfc1466]: https://tools.ietf.org/pdf/rfc1466.pdf
